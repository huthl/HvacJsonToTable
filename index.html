<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HVACTranslate</title>
    <!-- Fonts -->
    <link rel="stylesheet" href="./css/bootstrap/bootstrap5.min.css">

<!-- HVAC import begin-->
<script type="text/javascript" src="./js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="./js/bootstrap/bootstrap.bundle.js"></script>
<script type="text/javascript" src="./js/hvac_helper_all_dp.js"></script>

<script>
    $(document).ready(function(){
        $("#hvacDataSubmit").on("click", function () {
            let tableauData = '{}';
            let textarea = $("#hvacData");
            let text = textarea.val();

            try {
                let dataArray = $.parseJSON(text);
                reBuildTable(dataArray,tableauData);

            } catch (e) {
                $('#hvacModalError').html('Ungültige JsonDaten' +e.toLocaleString())
                setTimeout(() => {
                    $('#hvacModalError').html('');
                }, 5000);
            }
        });
    });
</script>
</head>
<body>
<!-- Modal for HVAC import -->
<div class="col-12" id="hvacModal" tabindex="-1" aria-labelledby="hvacModalLabel" aria-hidden="true">
            <div class="col-auto">
                <h2 class="" id="hvacModalLabel">HVAC Daten Json in Tabelle Converter (Beta)</h2>
            </div>
            <div class="col-auto">
                <div class="col">
                    <label for="hvacData">Daten hier hineinkopieren</label>
                    <textarea class="col-12" id="hvacData"></textarea>
                </div>
                <div id="hvacModalError"></div>
            </div>
            <div class="col-2">
                <button type="button" id="hvacDataSubmit" class="btn btn-primary">Übernehmen</button>
            </div>

</div>

<div class="col-12">
    <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
        <div class="bg-white overflow-hidden shadow-xl sm:rounded-lg">
            <div class="p-6 sm:px-6 bg-white border-b border-gray-200">
                <div class="row">

                    <div class="flex-container" style="min-width: 100%; ">
                        <section class="flex-item" style="min-width: 48%; ">
                            <table id="hvacTable" class="table table-striped table-bordered">
                            </table>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>